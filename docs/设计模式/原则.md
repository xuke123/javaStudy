# 原则

## 基本原则

1. 单一职责原则SRP
   * 一个类应仅有一个引起它变化的原因
2. 开放-关闭原则OCP
   * 对扩展开放,对修改关闭
3. 里氏替换原则LSP
   * 子类型必须能够替换它们父类型,避免多态出现隐蔽错误
4. 依赖倒置原则DIP
   * 高层模块不应该依赖底层模块,两者应该依赖于抽象
   * 抽象不应该依赖具体实现,具体实现应该依赖于抽象
5. 接口隔离原则ISP
   * 较大接口应进行分离,按照不同客户需要来分离成针对客户的接口
   * 单个接口不要过多职责
6. 最少知识原则LKP
   * 方法调用必须在一定的界限范围内,尽量减少对象的依赖关系
7. 其他原则
   * 面向接口编程
   * 优先使用组合,而不是继承
   * 一个类需要的数据应隐藏在类的内部
   * 类之间应该零耦合,或者只传导耦合,换句话说,类之间要么无关系,要么只使用另一个类的接口提供操作
   * 在水平上尽可能统一分布式系统功能

## 解释

1. 为什么优先组合?

继承和聚合/组合都可以达到代码重用的目的。继承有自身的优点，父类的大部分功能可以通过继承关系自动进入子类；修改或扩展继承而来的实现较为容易。

但是，继承同样有缺点，

无法通过继承达到多个类代码的重用。
父类的方法子类无条件继承，很容易造成方法污染。
从父类中继承的方法，是一种静态的复用。不能在运行时发生改变，不够灵活。
继承可以用，但使用继承需要谨慎。一般来说，使用继承有两个条件：

父类中所有的属性和方法，在子类中都适用。
子类不需要再去重用别的类中的代码。
如果不能满足这两个条件，那么就应该使用聚合/组合关系去替代继承，来达到代码的复用。

尽量使用用”has-a”(有什么或用什么)去替代”is-a”(是什么)。

## 参考资料

- [为什么优先使用组合而不是继承](https://zhuanlan.zhihu.com/p/60282972)