# 综述

![概述](https://pic3.zhimg.com/37f99e0ea64c2b99b87148ec35a3596b_1440w.jpg?source=172ae18b)

## 用处

* 解耦
* 最终一致性
* 广播
* 错峰与的流控

## 设的一个消息队列

## 概述
  
1. broker
2. 整体思路
3. RPC
4. 消息堆积处理
5. 消费关系
6. 其他

## 基本功能

1. RPC通信协议
2. 高可用
3. 服务端承载消息堆积的能力
4. 存储子系统的选择
5. 消费关系解析

## 队列高级特征设计  
 　
可靠投递（最终一致性）
消息确认
重复消息和顺序消息
版本号
状态机
中间间对于重复消息的处理
事务
性能相关
同步／异步
批量
push/pull
慢消费
消息延迟与忙等
顺序消息

## 参考资料

* [消息队列设计精要](https://zhuanlan.zhihu.com/p/21649950)